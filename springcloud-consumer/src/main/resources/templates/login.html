<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" href="../css/bootstrap.css" />
    <script  src="../js/bootstrap3/js/bootstrap.js"></script>
    <script  src="../js/bootstrap-table/bootstrap-table.js"></script>
    <script  src="../js/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
    <link rel="stylesheet" href="../js/bootstrap-table/bootstrap-table.css"/>
    <script  src="../js/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script  src="../js/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <link rel="stylesheet" href="../js/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css"/>
    <script src="../js/bootstrap-bootbox/bootbox.js"></script>
</head>
<body style="background: url(../img/1111.jpg) no-repeat center center fixed; background-size: 100%;">
<div class="modal-dialog" style="margin-top: 10%;">
    <div class="modal-content">
        <div class="modal-header">

            <h4 class="modal-title text-center" id="myModalLabel">登录</h4>
        </div>

        <form id="loginFormId">

        <div class="modal-body" id = "model-body">

            <div class="form-group">

                <input type="text" name="userName" class="form-control"placeholder="用户名" autocomplete="off">
            </div>

            <div class="form-group">

                <input type="password" name="password" class="form-control" placeholder="密码" autocomplete="off">
            </div>

        </div>

        <div class="modal-footer">
            <div class="form-group">
                <button type="button" id="loginBtn" class="btn btn-primary form-control">登录</button>
            </div>

            <div class="form-group">
                <button type="button" onclick="zc()" class="btn btn-default form-control">注册</button>
            </div>
        </div>
        </form>
    </div>
</div>
<script>
    var res;
    function createAddContent(url){
        $.ajax({
            url:url,
            async:false,
            success:function(data){
                res = data;
            }
        });
        return res;
    }

    $("#loginBtn").click(function(){
        $.ajax({
            url: "../user/login",
            type: "post",
            data: $("#loginFormId").serialize(),
            dataType: "text",
            success:function(data){
                if(data=="登录成功"){
                    alert("登陆成功");
                    location.href = "http://localhost:8763/api-a/page/toMain";
                }else if(data == "账号或密码错误"){
                    alert("账号或密码错误")
                }

            },
            error:function () {
                alert("失败了")
            }
        })
    })

    function zc(){
        alert("网络异常！请稍后重试")
    }
   /* function zc() {
        bootbox.dialog({
            title:'注册',
            message:createAddContent('../page/toZc'),
            size:'large',
            buttons:{
                cancel:{
                    label: "取消",
                    className: 'btn-danger',
                    callback: function(){
                    }
                },
                ok: {
                    label: "保存",
                    className: 'btn-success',
                    callback: function(){
                        saveUser();
                    }
                }
            }
        })
    }


    function saveUser(){
        $.ajax({
            url:'../user/register',
            data:$("#addUserFormId").serialize(),
            type:'post',
            dataType:'json',
            success:function(){
                alert("注册成功")
                location.href="../page/toLogin";
            },
        })
    }*/
</script>
</body>
</html>